{%extends "main-template.html"%}
{%block fullscreen%}
{%load static %}
        <link rel="shortcut icon" href="{% static 'images/icon.png' %}">

<style>
    body{
        background-color: #c9d6ef;
    }
    .item-bg{
        box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px;
        display: inline-block;
        width: 200px;
        margin: 5px;
        background-color: white;
        position: relative;
    }
    .item-text{
        text-align: center;
        padding: 15px;
    }
    .item-main-link{
        position: absolute;
        top: 0px;
        left:  0px;
        right:  0px;
        bottom: 0px;
    }
    .item-img{
        height: 200px;
        background-size: 75%;
        background-repeat: no-repeat;
        background-position: center;
        background-color: #ddb889;
    }   
    .bg-poster{
        margin: 40px;
        display: inline-block;
        width: fit-content;
        padding: 20px;
        min-width: 200px;
        border-radius: 10px;
        background-image: linear-gradient(143deg, #735897 0%, #e9eb8cf7 100%);
        color: white;
        box-shadow: rgb(0 0 0 / 25%) 0px 54px 55px, rgb(0 0 0 / 12%) 0px -12px 30px, rgb(0 0 0 / 12%) 0px 4px 6px, rgb(0 0 0 / 17%) 0px 12px 13px, rgb(0 0 0 / 9%) 0px -3px 5px;
    }
    .continue{
        background-color: white;
    }
    .items-bg{
        width: fit-content;margin: auto;
    }
    @media all and (max-width: 450px){
        .items-bg{
            width: min-content;margin: auto;
        }   
    }
</style>
    <div style="display: flex;flex-direction: column;">
        <div style="position: relative; min-height: 500px;">
            <img src="{%static 'images/bg-image.png'%}" style="min-height:  500px;z-index:  -1;position:  absolute;right: 10px;">
            <div class="bg-poster" style="max-width: 300px;">
                <h2><a href="/news/5" style="color: white;">get started</a></h2>
                <div class="knifesm" style="background-color: white;"></div>
                <h2>updates</h2>
                <ul>
                    {%for up in update%}
                    <li class="message-text-hey">{{up}}</li>
                    {%endfor%}
                </ul>
            </div>
        </div>
        <div class="knifesm"></div>
        <div class="content-dett continue">
            <h1 style="text-align: center;">Projects</h1>
            <div class="items-bg">
                {%for pr in projects%}
                <div class="item-bg">
                    <div class="item-img" style="background-image: url({{pr.image}});"></div>
                    <a class="item-main-link" href="{{pr.link}}"></a>
                    <div class="item-text" class="message-text-hey">{{pr.text}}</div>
                </div>
                {%endfor%}
            </div>
        </div>
    </div>
    <link rel="stylesheet" type="text/css" href="{%static 'css/main.css'%}">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
            integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
            crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
            integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
            crossorigin="anonymous"></script>
    <script type="text/javascript">
        function urlify(text) {
            var urlRegex = /( https?:\/\/[^\s]+)/g;
            return text.replace(urlRegex, function(url) {
              return '<a href="' + url + '">' + url + '</a>';
            })
            // or alternatively
            // return text.replace(urlRegex, '<a href="$1">$1</a>')
        }
        console.log(imgify("sefse img:https://github.githubassets.com/images/modules/site/social-cards/github-social.png")); 
        function imgify(text){ 
            var https = /(img?:https:\/\/[^\s]+)/gm; 
            var http = /(img?:http:\/\/[^\s]+)/gm; 
            return text.replace(https, function(img_url) {
                url=img_url.replace(/img?:/, ""); 
                return '<img src="' + url + '">';
            }).replace(http, function(img_url) {
                url=img_url.replace(/img?:/, ""); 
                return '<img src="' + url + '">';
            }); 
        }

        console.log(h1fy("bitch <<<nigas>>>")); 
        function h1fy(text){
            return text.replace(/<<<(.*)>>>/gm, function(fuck){
                return fuck.replace("<<<", '<h1>').replace(">>>", '</h1>');
            });
        }
         
        document.body.onload=messageToLink; 
        function messageToLink (argument) {
            messages =document.querySelectorAll(".message-text-hey"); 
            for (var mesid =0; mesid < messages.length; mesid++){
                messages[mesid].innerHTML=h1fy(messages[mesid].textContent); 
                messages[mesid].innerHTML=imgify(messages[mesid].innerHTML); 
                messages[mesid].innerHTML=urlify(messages[mesid].innerHTML);
            }
        }
    </script>
{% endblock %}